<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sign In and Sign Up</title>
<style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Arial, sans-serif; }

    body {
        background-color: #f4f4f4;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        padding: 20px;
    }

    .container {
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        max-width: 360px;
        width: 100%;
        padding: 20px;
        text-align: center;
    }

    video {
        width: 100%;
        height: auto;
        border-radius: 12px;
        margin-bottom: 20px;
    }

    h2 {
        color: #00796b;
        margin-bottom: 15px;
    }

    input[type="email"], input[type="password"], button {
        width: 100%;
        padding: 12px;
        margin: 10px 0;
        border-radius: 6px;
        font-size: 1rem;
    }

    input[type="email"], input[type="password"] {
        border: 1px solid #ccc;
    }

    button {
        border: none;
        background-color: #00796b;
        color: white;
        cursor: pointer;
        transition: background 0.3s, transform 0.2s;
    }

    button:hover {
        background-color: #004d40;
        transform: scale(1.03);
    }

    .message, .forgot-password {
        color: #00796b;
        cursor: pointer;
        font-size: 0.9rem;
        margin-top: 10px;
    }

    @media (max-width: 400px) {
        .container { padding: 15px; }
        h2 { font-size: 1.3rem; }
        input[type="email"], input[type="password"], button { padding: 10px; font-size: 0.95rem; }
    }
</style>
</head>
<body>

<!-- Sign Up Form -->
<div id="sign-up-form" class="container" style="display: none;">
    <video autoplay loop muted>
        <source src="images/ORDER FORM.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    <h2>Sign Up</h2>
    <input type="email" id="signup-email" placeholder="Email">
    <input type="password" id="signup-password" placeholder="Password">
    <button onclick="signup()">Sign Up</button>
    <p class="message" onclick="toggleForms()">Already have an account? Sign In</p>
</div>

<!-- Sign In Form -->
<div id="sign-in-form" class="container" style="display: block;">
    <video autoplay loop muted>
        <source src="images/ORDER FORM.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    <h2>Sign In</h2>
    <input type="email" id="signin-email" placeholder="Email">
    <input type="password" id="signin-password" placeholder="Password">
    <button onclick="signin()">Sign In</button>
    <p class="forgot-password" onclick="forgotPassword()">Forgot password?</p>
    <p class="message" onclick="toggleForms()">New user? Sign Up</p>
</div>

<script type="module">
import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js';
import {
    getAuth,
    createUserWithEmailAndPassword,
    signInWithEmailAndPassword,
    sendEmailVerification,
    sendPasswordResetEmail
} from 'https://www.gstatic.com/firebasejs/9.0.0/firebase-auth.js';

const firebaseConfig = {
    apiKey: "AIzaSyDNrI34rs5w2UD_C1GzYnYnDtgbw4W8r4E",
    authDomain: "authentication-50ab8.firebaseapp.com",
    projectId: "authentication-50ab8",
    storageBucket: "authentication-50ab8.appspot.com",
    messagingSenderId: "760013774004",
    appId: "1:760013774004:web:499d0db962bd8b98c70be1"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

window.signup = async function() {
    const email = document.getElementById('signup-email').value;
    const password = document.getElementById('signup-password').value;
    try {
        const userCredential = await createUserWithEmailAndPassword(auth, email, password);
        await sendEmailVerification(userCredential.user);
        alert("Verification email sent. Please check your inbox.");
    } catch (error) {
        console.error(error);
        alert(error.message);
    }
}

window.signin = async function() {
    const email = document.getElementById('signin-email').value;
    const password = document.getElementById('signin-password').value;
    try {
        const userCredential = await signInWithEmailAndPassword(auth, email, password);
        if(userCredential.user.emailVerified) {
            window.location.href = "completed.html";
        } else {
            alert("Please verify your email first.");
        }
    } catch (error) {
        console.error(error);
        alert(error.message);
    }
}

window.forgotPassword = async function() {
    const email = document.getElementById('signin-email').value;
    try {
        await sendPasswordResetEmail(auth, email);
        alert("Password reset email sent. Please check your inbox.");
    } catch (error) {
        console.error(error);
        alert(error.message);
    }
}

window.toggleForms = function() {
    const signInForm = document.getElementById('sign-in-form');
    const signUpForm = document.getElementById('sign-up-form');
    if (signInForm.style.display === "block") {
        signInForm.style.display = "none";
        signUpForm.style.display = "block";
    } else {
        signInForm.style.display = "block";
        signUpForm.style.display = "none";
    }
}
</script>

</body>
</html>
